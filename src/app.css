@import "tailwindcss";
@import "tw-animate-css";

/* Tailwind v4 theme block â€” safe to ignore css-unknown-at-rules warnings */
@theme {
    --font-sans:
        "Inter", "SF Pro Text", "SF Pro Display", -apple-system, BlinkMacSystemFont,
        "Segoe UI", sans-serif;
    --font-serif: Georgia, "Times New Roman", Times, serif;
    --font-mono:
        "Fira Code", "JetBrains Mono", ui-monospace, SFMono-Regular, Menlo, Monaco,
        Consolas, "Liberation Mono", "Courier New", monospace;

    --color-background: #122c3d;
    --color-foreground: #e6f4f1;

    --color-card: #163447;
    --color-card-foreground: #e6f4f1;
    --color-popover: #163447;
    --color-popover-foreground: #e6f4f1;

    --color-primary: #ad6600;
    --color-primary-foreground: #fff7ec;
    --color-secondary: #23495d;
    --color-secondary-foreground: #e6f4f1;
    --color-muted: #1a3f53;
    --color-muted-foreground: rgba(230, 244, 241, 0.72);
    --color-accent: #cde8e5;
    --color-accent-foreground: #11313a;
    --color-destructive: #ef4444;
    --color-destructive-foreground: #0f1115;

    --color-border: rgba(205, 232, 229, 0.25);
    --color-input: rgba(18, 44, 61, 0.65);
    --color-ring: rgba(205, 232, 229, 0.45);

    --radius-sm: 0.5rem;
    --radius-md: 0.95rem;
    --radius-lg: 1.5rem;

    --layout-gutter: clamp(1.5rem, 5vw, 4.5rem);
    --layout-width-default: min(1280px, 94vw);
    --layout-width-lg: min(1400px, 88vw);
    --layout-width-xl: min(1560px, 84vw);
}

:root {
    color-scheme: dark;
    --page-shell-viewport-unit: 1vh;
}

@supports (height: 100dvh) {
    :root {
        --page-shell-viewport-unit: 1dvh;
    }
}

@supports (height: 100svh) {
    :root {
        --page-shell-viewport-unit: 1svh;
    }
}

@media (min-width: 1200px) {
    :root {
        --layout-width: var(--layout-width-lg);
    }
}

@media (min-width: 1600px) {
    :root {
        --layout-width: var(--layout-width-xl);
    }
}

@layer base {
    *,
    *::before,
    *::after {
        border-color: var(--color-border);
    }

    html,
    body {
        min-height: 100%;
    }

    body {
        margin: 0;
        background: var(--color-background);
        color: var(--color-foreground);
        font-family: var(--font-serif);
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
    }

    a {
        color: inherit;
        text-decoration: none;
        transition:
            color 150ms ease,
            text-decoration-color 150ms ease;
    }

    a:hover {
        color: inherit;
        text-decoration: none;
    }

    h1,
    h2,
    h3 {
        font-family: var(--font-serif);
        font-weight: 600;
        letter-spacing: -0.015em;
    }

    h1 {
        font-size: clamp(2.5rem, 2.1rem + 1.5vw, 3.75rem);
        margin-bottom: 1.25rem;
    }

    h2 {
        font-size: clamp(2rem, 1.8rem + 1vw, 3rem);
        margin-bottom: 1rem;
    }

    h3 {
        font-size: clamp(1.5rem, 1.3rem + 0.8vw, 2.25rem);
        margin-bottom: 0.75rem;
    }
}

@layer utilities {
    .page-shell :where(a) {
        color: var(--color-accent);
        text-decoration-line: underline;
        text-decoration-color: color-mix(in srgb, var(--color-accent) 45%, transparent);
        text-decoration-thickness: 0.1em;
        text-underline-offset: 0.26em;
    }

    .page-shell :where(a:hover) {
        color: var(--color-primary);
        text-decoration-color: color-mix(
            in srgb,
            var(--color-primary) 65%,
            transparent
        );
    }

    .page-shell {
        margin-inline: auto;
        padding-inline: clamp(1rem, 3.8vw, 3.25rem);
        padding-bottom: clamp(2.25rem, 9vh, 5.5rem);
        padding-top: clamp(3.5rem, 12vh, 8rem);
        width: 100%;
        max-width: var(--layout-width, var(--layout-width-default));
    }

    @media (max-width: 1024px) and (orientation: portrait) {
        .page-shell {
            padding-top: clamp(
                3.25rem,
                calc(7 * var(--page-shell-viewport-unit)),
                4.5rem
            );
            padding-bottom: clamp(
                2rem,
                calc(7 * var(--page-shell-viewport-unit)),
                3.75rem
            );
        }
    }

    .scrollbar-reserve {
        scrollbar-gutter: stable both-edges;
    }

    .prose-rich :where(p, li, blockquote) {
        font-size: clamp(1rem, 0.95rem + 0.3vw, 1.2rem);
        line-height: 1.6;
    }

    .prose-rich :where(p:not(:last-child)) {
        margin-bottom: clamp(1rem, 0.85rem + 0.6vw, 1.7rem);
    }

    .prose-rich :where(li:not(:last-child)) {
        margin-bottom: 0.4rem;
    }

    .prose-rich :where(blockquote) {
        margin-block: clamp(1.5rem, 1.2rem + 1vw, 2.25rem);
        padding-inline-start: 1.5rem;
        border-inline-start: 2px solid
            color-mix(in srgb, var(--color-accent) 55%, transparent);
        font-style: italic;
    }

    .prose-rich :where(pre) {
        margin-block: clamp(1.25rem, 1rem + 1vw, 2.25rem);
        padding: clamp(1rem, 0.9rem + 0.6vw, 1.75rem);
        border-radius: 0.9rem;
        border: 1px solid rgba(137, 221, 255, 0.25);
        box-shadow: 0 10px 30px rgba(7, 12, 18, 0.45);
        overflow-x: auto;
        background: color-mix(in srgb, var(--color-background) 82%, black 18%);
        font-family: var(--font-mono);
    }

    .prose-rich :where(code) {
        font-family: var(--font-mono);
        font-size: 0.95em;
    }

    .prose-rich :where(code):not(:where(pre *)) {
        padding: 0.15em 0.35em;
        border-radius: 0.35rem;
        background: color-mix(in srgb, var(--color-muted) 65%, transparent);
    }
}
